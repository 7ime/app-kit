(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{264:function(e,t,n){var a;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a)){if(a.length){var l=r.apply(null,a);l&&e.push(l)}}else if("object"===o)if(a.toString===Object.prototype.toString)for(var i in a)n.call(a,i)&&a[i]&&e.push(i);else e.push(a.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},271:function(e,t,n){"use strict";var a=n(1),r=n(264),o=n.n(r),l=n(273),i=n(278),c=n.n(i),s=n(48),u=function(){return(u=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},d=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};t.a=a.memo((function(e){var t,n,r,i,m,f=a.useContext(s.a),p=e.href,_=e.target,v=void 0===_?"_self":_,y=e.htmlType,h=void 0===y?"button":y,E=e.loader,g=e.type,x=void 0===g?"":g,b=e.shape,C=void 0===b?"":b,N=e.fill,w=void 0===N?"basic":N,S=e.disabled,M=e.children,O=e.parentClass,k=d(e,["href","target","htmlType","loader","type","shape","fill","disabled","children","parentClass"]),j=o()(c.a.button,((t={})[c.a[x]]=x,t),((n={})[c.a[C]]=C,n),((r={})[c.a[w]]=w,r),((i={})[c.a.is_disabled]=S,i),((m={})[c.a.loader]=E,m),O,f),P=p?"a":"button",T={};return p?(T.href=p,T.target=v):T.type=h,a.createElement(P,u({className:j},k,T),M,E&&a.createElement("div",{className:c.a.loaderComponent},a.createElement(l.a,{size:"small"})))}))},273:function(e,t,n){"use strict";var a=n(1),r=n(277),o=n.n(r),l=n(264),i=n.n(l);t.a=a.memo((function(e){var t,n,r=e.type,l=void 0===r?"":r,c=e.size,s=void 0===c?"":c,u=e.parentClass,d=i()(o.a.loader,((t={})[o.a[l]]=l,t),((n={})[o.a[s]]=s,n),u);return a.createElement("div",{className:d},a.createElement("svg",{className:o.a.circular,viewBox:"25 25 50 50"},a.createElement("circle",{className:o.a.path,cx:"50",cy:"50",r:"20",fill:"none",strokeMiterlimit:"10"})))}))},277:function(e,t,n){e.exports={loader:"loader__2dAtR",small:"small__CMegY",large:"large__20KSD",primary:"primary__33g0a",path:"path__16l-y",secondary:"secondary__3a3XK",circular:"circular__251aF","loader-rotate":"loader-rotate__LonOX","loader-dash":"loader-dash__1-gab"}},278:function(e,t,n){e.exports={button:"button__1ahQ7",round:"round__1qn5y",basic:"basic__2NgFt",loaderComponent:"loaderComponent__3vNDw",primary:"primary__2nZfQ",secondary:"secondary__1Q5CQ",warning:"warning__2eXUs",solid:"solid__30gJ2",outlined:"outlined___6mW4",loader:"loader__1VT6H",is_disabled:"is_disabled__2D2kV"}},283:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t){if(!e)throw new Error(t)}},292:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={contextMenu:"transition-context-menu",modal:"transition-modal"}},313:function(e,t,n){"use strict";var a=n(1),r=n(31),o=n(264),l=n.n(o),i=n(314),c=n.n(i),s=n(283),u=n(312),d=n(292),m=document.querySelector("body"),f=document.querySelector("#modal-root"),p=function(e){m&&(m.style.overflowY=e?"auto":"hidden")};t.a=function(e){Object(s.a)(!!f,'The "modal-root" element was not found. Please ensure your application has an element with the id "modal-root"');var t=e.in,n=e.children,o=e.onOutsideClick,i=e.onExited,m=e.parentClass,_=l()(c.a.modal,m);a.useEffect((function(){return p(!1),function(){return p(!0)}}),[]);return Object(r.createPortal)(a.createElement(u.CSSTransition,{in:t,timeout:300,classNames:d.a.modal,unmountOnExit:!0,onExited:i,appear:!0},a.createElement("div",{className:_},a.createElement("div",{className:c.a.overlay,onClick:function(){o()}}),a.createElement("div",{className:c.a.content},n))),f)}},314:function(e,t,n){e.exports={modal:"modal__1JVRI",overlay:"overlay__30NET",content:"content__QEb2z"}},380:function(e,t,n){e.exports={root:"root__1Jw-v"}},381:function(e,t,n){e.exports={root:"root__3CA5N"}},382:function(e,t,n){e.exports={root:"root__25J7u"}},383:function(e,t,n){},384:function(e,t,n){e.exports={root:"root__2VqsL",inner:"inner__1hqPL",is_active:"is_active__1NN08",avatarWrap:"avatarWrap__2F10M",content:"content__1UqDi",header:"header__2fbQi",channel:"channel__3sQVn",group:"group__2shKf",footer:"footer__2hERS",sender:"sender__KRDaE",message:"message__3-mmO",additionalInfo:"additionalInfo__3oN26",additionalTopContent:"additionalTopContent__kMmgW",date:"date__RSMw_",readingStatus:"readingStatus__37DUk",counter:"counter__3G05Q",disabled:"disabled__1Tvyr"}},385:function(e,t,n){e.exports={root:"root__1T8go",initials:"initials__2t0sa"}},386:function(e,t,n){e.exports={root:"root__1FJnV",saved:"saved__2h_io",icon:"icon__AhhTy"}},387:function(e,t,n){e.exports={root:"root__1PvBk",read:"read__3kYje",light:"light__f89-Q",secondary:"secondary__1U3d0",unread:"unread__1wE9S"}},388:function(e,t,n){e.exports={root:"root__15Cf6",light:"light__3Y4Y8",secondary:"secondary__3e1Jc"}},389:function(e,t,n){e.exports={root:"root__MKHxp",primary:"primary__Tzdso",disabled:"disabled__8SO6R"}},390:function(e,t,n){e.exports={chatListContextMenu:"chatListContextMenu__1VdMI"}},391:function(e,t,n){e.exports={chatContextMenu:"chatContextMenu__2rKbk"}},392:function(e,t,n){e.exports={root:"root__QAZfE"}},393:function(e,t,n){e.exports={contextMenuWrapper:"contextMenuWrapper__3SlJe",overlay:"overlay__2bM72",contextMenu:"contextMenu__1p1Jn","left-top":"left-top__2R9p3","left-bottom":"left-bottom__3Aga0","right-top":"right-top__qESMH","right-bottom":"right-bottom__3bAln"}},401:function(e,t,n){},402:function(e,t,n){},403:function(e,t,n){e.exports={modal:"modal__3lslx",root:"root__2W7R0",text:"text__p6vn_",actions:"actions__1jxvl",button:"button__2vO4y"}},404:function(e,t,n){e.exports={root:"root__11xcf"}},593:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(47),o=n(24),l=n(380),i=n.n(l),c=n(381),s=n.n(c),u=function(e){var t=e.children;return a.createElement("div",{className:s.a.root},t)},d=n(382),m=n.n(d),f=n(383),p=n.n(f),_=n(384),v=n.n(_),y=n(264),h=n.n(y),E=n(385),g=n.n(E),x=function(e){var t=e.data,n=e.parentClass,r=t.img,o=t.initials,l=t.color;return a.createElement("div",{className:h()(g.a.root,n),style:{backgroundImage:r?"url("+r+")":"none",backgroundColor:l||"none"}},o&&a.createElement("div",{className:g.a.initials},a.createElement("span",null,o[0]),o[1]&&a.createElement("span",null,o[1])))},b=n(7),C=n(386),N=n.n(C),w=function(e){return void 0===e&&(e="#FFFFFF"),a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{id:"24 / basic / bookmark"},a.createElement("path",{id:"icon",fillRule:"evenodd",clipRule:"evenodd",d:"M5 22.618L12 19.118L19 22.618V4C19 2.89543 18.1046 2 17 2H7C5.89543 2 5 2.89543 5 4V22.618ZM12 16.882L7 19.382V4H17V19.382L12 16.882Z",fill:e})))},S=function(e){var t=e.type,n=e.parentClass;return a.createElement("div",{className:h()(N.a.root,N.a[t],n)},a.createElement("div",{className:N.a.icon},"saved"===t&&w()))},M=n(387),O=n.n(M),k=function(e){var t=e.status,n=e.type,r=e.parentClass,o=h()(O.a.root,O.a[n],O.a[t],r);return a.createElement("div",{className:o})},j=n(388),P=n.n(j),T=function(e){var t=e.children,n=e.type,r=void 0===n?"default":n,o=e.parentClass,l=h()(P.a.root,P.a[r],o);return a.createElement("div",{className:l},t)},D=n(389),A=n.n(D),L=function(e){var t=e.parentClass,n=e.type,r=void 0===n?"default":n,o=e.children,l=h()(A.a.root,A.a[r],t);return a.createElement("div",{className:l},o)},F=n(0),V=n.n(F),R=function(e){var t,n=V()(e);return t=n,V()().isSame(t,"days")?V()(n).format("hh:mm A"):function(e){return V()(e).isBetween(V()().subtract(7,"days"),V()())}(n)?V()(n).format("ddd"):V()(n).format("DD.MM.YY")},W=n(390),J=n.n(W),Q=n(391),q=n.n(Q),H=function(e){var t=e.children,n=e.parentClass,r=h()(q.a.chatContextMenu,n);return a.createElement("div",{className:r},t)},Y=n(392),I=n.n(Y),K=function(e){var t=e.children,n=e.onClick,r=e.parentClass,o=h()(I.a.root,r);return a.createElement("div",{className:o,onClick:n},t)},U=n(51),z=n(31),B=n.n(z),X=n(393),Z=n.n(X),G=n(283),$=n(312),ee=n(292),te=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l},ne=document.querySelector("#context-menu-root"),ae=function(e){Object(G.a)(!!ne,'The "context-menu-root" element was not found. Please ensure your application has an element with the id "context-menu-root"');var t=e.in,n=e.children,r=e.onOutsideClick,o=e.onExited,l=e.cursorPosition,i=e.parentClass,c=a.useRef(null),s=te(a.useState(l),2),u=s[0],d=s[1],m=te(a.useState({x:"left",y:"top"}),2),f=m[0],p=m[1],_=h()(Z.a.contextMenu,Z.a[f.x+"-"+f.y],i);a.useEffect((function(){!function(){if(c.current){var e=u.x,t=u.y,n=window.innerWidth,a=window.innerHeight,r=c.current.offsetWidth,o=c.current.offsetHeight,l=u.x,i=u.y,s=f.x,m=f.y;n<e+r&&(l=e-r,s="right"),a<t+o&&(i=t-o,m="bottom"),l<0&&(l=0),i<0&&(i=0),d({x:l,y:i}),p({x:s,y:m})}}()}),[]);return B.a.createPortal(a.createElement($.CSSTransition,{in:t,timeout:150,classNames:ee.a.contextMenu,unmountOnExit:!0,appear:!0,onExited:o},a.createElement("div",{className:Z.a.contextMenuWrapper},a.createElement("div",{className:Z.a.overlay,onClick:function(){r()},onContextMenu:function(e){return e.preventDefault(),e.stopPropagation(),r(),!1}}),a.createElement("div",{ref:c,className:_,style:{top:u.y+"px",left:u.x+"px"}},n))),ne)},re=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l},oe=function(e){var t=Object(o.b)(),n=e.onClose,r=e.parentClass,l=e.cursorPosition,i=e.data,c=h()(J.a.chatListContextMenu,r),s=re(a.useState(!0),2),u=s[0],d=s[1];return a.createElement(ae,{in:u,onOutsideClick:function(){d(!1)},cursorPosition:l,onExited:function(){n()}},a.createElement(H,{parentClass:c},a.createElement(K,{onClick:function(){}},"Archive chat"),a.createElement(K,{onClick:function(){}},"Pin to top"),a.createElement(K,{onClick:function(){}},"Disable Notifications"),a.createElement(K,{onClick:function(){}},"Make as unread"),a.createElement(K,{onClick:function(){t(U.a.attemptDeleteChannel({id:i.id,name:i.name})),d(!1)}},"Delete and leave"),a.createElement(K,{onClick:function(){}},"Clear history")))},le=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l},ie=function(e){var t,n,r,o,l,i,c,s=e.data,u=s.avatar,d=s.type,m=s.name,f=s.lastMessage,p=s.selected,_=s.counter,y=s.notificationsState,E=h()(v.a.root,((t={})[v.a.channel]=d===b.e.channel,t),((n={})[v.a.group]=d===b.e.group,n),((r={})[v.a.is_active]=p,r)),g=le(a.useState(null),2),C=g[0],N=g[1];return a.createElement(a.Fragment,null,C&&a.createElement(oe,{data:s,onClose:function(){N(null)},cursorPosition:C}),a.createElement("div",{className:E,onContextMenu:function(e){return e.preventDefault(),e.stopPropagation(),N({x:e.pageX,y:e.pageY}),!1}},a.createElement("div",{className:v.a.inner},a.createElement("div",{className:v.a.avatarWrap},u&&a.createElement(x,{data:u,parentClass:v.a.avatar}),!u&&d===b.e.savedMessages&&a.createElement(S,{type:"saved",parentClass:v.a.avatar})),a.createElement("div",{className:v.a.content},a.createElement("div",{className:v.a.header},m),a.createElement("div",{className:v.a.footer},(i=d,c=f.senderType,i!==b.e.channel&&(i!==b.e.single||c!==b.f.user)&&a.createElement("div",{className:v.a.sender},f.senderName,": ")),a.createElement("div",{className:v.a.message},f.shortPreviewMsg))),a.createElement("div",{className:v.a.additionalInfo},a.createElement("div",{className:v.a.additionalTopContent},f.readingStatus&&a.createElement(k,{status:f.readingStatus,type:p?"light":"secondary",parentClass:v.a.readingStatus}),a.createElement(T,{type:"light",parentClass:v.a.date},R(f.date))),_&&a.createElement(L,{type:y===b.a.disabled?"disabled":"primary",parentClass:h()(v.a.counter,v.a[y])},(void 0===l&&(l=99999),(o=_)>l?"+"+l:o.toString()))))))},ce=function(e){var t=e.list;return a.createElement("div",{className:p.a.root},t.map((function(e){return a.createElement(ie,{data:e,key:e.id})})))},se=n(33),ue=function(){var e=Object(o.c)(se.d.getUsedList);return a.createElement("div",{className:m.a.root},e&&a.createElement(ce,{list:e}))},de=n(401),me=n.n(de),fe=function(){return a.createElement("div",{className:me.a.root})},pe=n(402),_e=n.n(pe),ve=function(){return a.createElement("div",{className:_e.a.root})},ye=n(403),he=n.n(ye),Ee=n(404),ge=n.n(Ee),xe=n(313),be=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l},Ce=function(e){var t=e.parentClass,n=e.onClose,r=e.children,o=h()(ge.a.root,t),l=be(a.useState(!0),2),i=l[0],c=l[1];return a.createElement(xe.a,{onOutsideClick:function(){c(!1)},in:i,onExited:function(){n()}},a.createElement("div",{className:o},r))},Ne=n(271),we=function(e){var t=e.parentClass,n=Object(o.b)(),r=Object(o.c)(U.c.getAttemptDeleteChannelPayload),l=h()(he.a.root,t);return r?a.createElement(Ce,{onClose:function(){n(U.a.closeModal())},parentClass:he.a.modal},a.createElement("div",{className:l},a.createElement("div",{className:he.a.text},"Are you sure you want to delete all message history and leave «",r.name,"»"),a.createElement("div",{className:he.a.text},"This action cannot be undone"),a.createElement("div",{className:he.a.actions},a.createElement(Ne.a,{onClick:function(){},type:"primary",fill:"basic",parentClass:he.a.button},"CANCEL"),a.createElement(Ne.a,{onClick:function(){},type:"warning",fill:"basic",parentClass:he.a.button},"LEAVE")))):null},Se=function(){var e=Object(o.c)(U.c.getModalData),t=e.open,n=e.type;return t&&n?a.createElement(a.Fragment,null,function(e){switch(e){case b.c.deleteChannel:return a.createElement(we,null)}}(n)):null},Me=function(){var e=Object(o.b)();return a.useEffect((function(){e(se.a.getUsedList(b.d.used))}),[]),a.createElement("div",{className:i.a.root},a.createElement(u,null,a.createElement(ue,null),a.createElement(fe,null),a.createElement(ve,null)),a.createElement(Se,null))};t.default=function(){return a.createElement(a.Fragment,null,a.createElement(r.Helmet,null,a.createElement("title",null,"Messenger")),a.createElement(Me,null))}}}]);